# LMS REST-API

## Описание

Платформа для онлайн-обучения, на которой каждый желающий может размещать свои полезные материалы или курсы.

### Выполнено

- Добавлено поле вывода количества уроков (`lesson_count`) в сериализатор модели курса через `SerializerMethodField`
- Добавлена новая модель платежи (`Payment`) с полями: 
  - пользователь 
  - дата оплаты
  - оплаченный курс/урок 
  - сумма оплаты 
  - способ оплаты
- Написана кастомная команда `fill_lms` для загрузки данных из нескольких фикстур
- Расширен сериализатор курса для вывода списка уроков и их количества одновременно
- Настроена фильтрация эндпоинта списка платежей по дате, курсу, уроку и способу оплаты
- Расширен сериализатор пользователя для вывода истории платежей

## Зависимости

- Django 5.1.4
- django-filter 24.3
- djangorestframework 3.15.2
- ipython 8.31.0
- pillow 11.0.0
- psycopg2-binary 2.9.10
- python-dotenv 1.0.1

## Установка

1. Клонируйте репозиторий:
```bash
git clone git@github.com:ZorinVS/drf_hw.git
```
2. Установите зависимости:
```bash
pip3 install -r requirements.txt
```

## Подключение БД
1. Создайте БД
2. Создайте файл `.env` из файла `.env.sample`

## Применение миграций
```bash
python manage.py migrate
```

## Создание суперпользователя
- С помощью менеджера:
```bash
python3 manage.py createsuperuser
```

## Запуск
1. В командной строке: `python3 manage.py runserver`

## Наполнение данными
```bash
python3 manage.py fill_lms
```
